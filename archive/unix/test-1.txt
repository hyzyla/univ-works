Лабораторна робота 4. Права доступу до файлів у файловій системі Unix-подібних о/с. Атрибути файлів. Власник файлу. Зміна атрибутів.

ПІБ:
 Гизила Євгеній Сергійович  
Група: 
 ТТП-3

1) Підписати елементи наступного знімку екрану:
$ ls -l  <-- команда для виводу вмісту поточного каталогу
total 86816 <-- кількість блоків у католозі 
-rwxr-xr-x   1 manageme manageme    12349 Apr  3  2006 cg
-rw-r--r--   1 manageme manageme      774 Apr  3  2006 cg.cpp
drwxr-xr-x   2 manageme manageme     4096 Oct 13  2007 cgi-bin
-rw-r--r--   1 manageme manageme 88295680 Oct 14 20:55 error_log
drwxr-x---  13 manageme mail         4096 Nov 26  2008 etc
drwx------  17 manageme manageme    65536 Oct  1 20:09 logs
drwxr-x---  92 manageme nobody       4096 Aug  7 13:32 public_html
lrwxrwxrwx   1 root     root           11 Nov 29  2007 www -> public_html
   |         |   |        |           |        |          |
   |         |   |        |           |        |          |
   |         |   |        |           |        | 	власне назва файлу
   |         |   |        |           |  дата останньої модифікації
   |         |   |        |	розмір файлу у байтах
   |         |   |   група доступу
   |         | власник файлу
   | кількість hard links на даний файл
9 біти прав доступу і 1 біт типу файлу


2) Що означають літери «r, w, x» у першому стовпчику лістингу?
r - вміст файлу може бути прочитаним
w - файл може бути перезаписаний або відредагований
x - файл може бути виконаний або для каталогу краще прочитати знизу
s - файл завжди буде виконуватися певним користувачем (якщо встановлено в бітах 1-4) чи групою (якщо встановлено в 4-7) незалежно від того хто викликає дану програму
S - те саме що і в s тільки файл не може виконуватися даним користувачем чи групою

Які особливості атрибуту «x» для каталогів?
якщо встановлений біт x для каталогу, то це гарантує, що доступ до файлів у каталозі (зчитування, запис, виконання) а також, що атрибут надає право модифікувати вміст даного катологу (дадати, видалити, перейменувати файл за умои що w біт також встановлений). Також цей біт надає право зробити даний каталог робочим і увійти за допомогою команди cd	

3) Які права доступу має кожний з наведених елементів каталогу?
cg 
 - файл може бути прочитаним, відредагований і виконаний користувачем manageme
 - файл може бути прочитаним і виконаний групою manageme
 - файл може бути прочитаним і виконаний всіма іншими користувачами

cg.cpp
 - файл може бути прочитаним, відредагований користувачем manageme
 - файл може бути прочитаним групою manageme
 - файл може бути прочитаним всіма іншими користувачами

cgi-bin
 - каталог може бути прочитаним, відредагований і виконаний* користувачем manageme
 - каталог може бути прочитаним і виконаний* групою manageme
 - каталог може бути прочитаним і виконаний* всіма іншими користувачами

error_log
 - файл може бути прочитаний, відредагований користувачем manageme
 - файл може бути прочитаний групою manageme
 - файл може бути прочитаний всіма іншими користувачами

etc
 - каталог може бути прочитаний, відредагований і виконаний* користувачем manageme
 - каталог може бути прочитаний і виконаний* групою mail

logs
 - каталог може бути прочитаний, відредагований і виконаний* користувачем manageme

public_html
 - каталог може бути прочитаний, відредагований і виконаний* користувачем manageme
 - каталог може бути прочитаний і виконаний* групою nobody

www **
 - символічне посилання може бути прочитане, відредаговане і виконане користувачем manageme
 - символічне посилання може бути прочитане, відредаговане і виконане групою root
 - символічне посилання може бути прочитане, відредаговане і виконане всіма іншими користувачами

*) під виконаний для каталогу мається на увазі, що каталог може стати робочою директорією і надає право на доступ до файлів, якщо ім'я цих файлів відомо, тому що доступ до списку файлів гарантує r біт
**) символічне посилання надає лише права на посилання, а не файл на який посилається

4) Що означало б, якби перша літера у правах доступу dr--r--r-- була:

– - звичайний файл  
d - каталог / директорія
b - блочний файл пристрою 
c - символічний файл пристрою
l - символічне посилання

5) Якщо в назві файлу зустрічається “->” – це означає …
що символічне посилання з назвою, що знаходиться зліва стрілки, посилається на файл з назовю, що знаходиться справа стрілки

6) Що таке setuid, setgid? На що вони впливають? Як їх змінити?
Для файлу: 
  це біти прав доступу до файлу, що дозволяють виконувати файл за допомогою прав доступу власника (setuid) або групи (setgid) всім тим хто має право виконувати файл. Часто використовується, щоб користувач міг виконати з під root певний файл без викорстання сторонніх засобів таких як sudo 
  - Для встановлення setuid потрібно виконати команду: "chmod u+s" <- тепер всі хто має право виконувати цей файл, можуть право виконувати дану команду з правами власника файлу. 
  - Для встановлення setgid потрібно виконати команду: "chmod g+s" <- тепер всі хто має право виконувати цей файл, можуть право виконувати дану команду з правами групи файлу. 
Для каталогу:
  лише має сенс setgid - це біт прав доступу до файлу (не є посуті правом доступу), що вказує успадковувати id групи даного каталогу замість id групи користувача для нових файлів і каталогів. 

7) Що таке SUID, SGID, sticky bit? На що вони впливають та як змінюють поведінку файлів, для яких вони встановлені?
SUID і SGID <- це налаштування setuid і setgid для виконання файлів з під root користувача певними користувачами або групами користувачів
sticky bit 
  <- біт прав доступу для каталогів, що дозволяє лише змінювати файли у каталозі лише власнику файлу, власнику каталогу і root
  <- біт що показує зберігати файл образ-програми на swap розділі, для швидшого заванжаження програмі при старті (на старих системах)

8) Які задачі вирішують та які параметри наступних команд?

  chown - команда, що довзоляє змінювати власника чи групу даного файлу
    chown [-OPTIONS] [--dereference] owner[:group] file...
    
    file - файл чи директорія.
    owner - ID чи ім'я нового власника файлу
    group - ID чи ім'я нової групи файлу

    -c, --changes
        друкує інформацію про зміну кожного файлу
    -f, --silent, --quiet
        не друкувати повідомолення про помилки
    -v, --verbose
        друкувати діагностичну інформацію
    --dereference 
        впливати на файли на які посилається посилання
    -h, --no-dereference
        впливати лише на файли які є символічними посиланнями, а не з файлами, на які вони указують.
    -R, --recursive
        рекурсивно обійти директорії
    Лише якщо -R вказано:
      -H     
          якщо символічне посилання вказує на директорію обійти цю директорію
      -L     
          обходити всі символічні посилання на директорії
      -P     
          не обходити жодних символічних посилань на директорії


  chgroup - команда, що довзоляє змінювати групу даного файлу
    ~/ те саме, що і в chown тільки без користувача /~


  umask - комадна, що створює маску прав доступу, для кожного нового файлу чи директорії
    umask [−S] [mask]
    -S - відображуватиме символьну нотацію замість побітової
    mask -
      - у вісімковій, перша вісімка справа вказує на права доступу для всіх користувачів, друга - для групи, третє для користувачів, четверта використовується для спеціальних бітів, таких як setgid, setuid, sticky
      - у символьному використовуються символи [ugoa][+-=][rwxXst] для встановлення для кого, як і яких прав для файлу
  
  
  сhmod - команда, що змінює права доступу для файлуі
    chmod [OPTIONS] [mask] file...
      
      file - файл чи директорія.

      OPTIONS - такі самі як в chown
      mask - така сама як у umask